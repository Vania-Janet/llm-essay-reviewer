â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    ESSAY EVALUATOR - PROJECT STRUCTURE                       â•‘
â•‘                         Professional Architecture                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ essay-agent/ (Project Root)
â”‚
â”œâ”€â”€â”€ ğŸ“¦ essay_evaluator/           â† Main Application Package
â”‚    â”‚
â”‚    â”œâ”€â”€â”€ ğŸ§  core/                 â† Business Logic Layer
â”‚    â”‚    â”œâ”€â”€â”€ agent/              
â”‚    â”‚    â”‚    â””â”€â”€â”€ evaluator.py     [EvaluadorEnsayos - LangGraph Agent]
â”‚    â”‚    â”œâ”€â”€â”€ evaluation/
â”‚    â”‚    â”‚    â””â”€â”€â”€ prompts.py       [LLM Prompt Templates]
â”‚    â”‚    â””â”€â”€â”€ models/
â”‚    â”‚         â””â”€â”€â”€ evaluation.py    [Pydantic Data Models]
â”‚    â”‚
â”‚    â”œâ”€â”€â”€ ğŸŒ api/                  â† REST API Layer
â”‚    â”‚    â”œâ”€â”€â”€ app.py                [Flask Application]
â”‚    â”‚    â”œâ”€â”€â”€ routes/
â”‚    â”‚    â”‚    â”œâ”€â”€â”€ auth.py          [Authentication Endpoints]
â”‚    â”‚    â”‚    â””â”€â”€â”€ essays.py        [Essay Operations]
â”‚    â”‚    â””â”€â”€â”€ middleware/
â”‚    â”‚         â”œâ”€â”€â”€ auth.py          [JWT Verification]
â”‚    â”‚         â””â”€â”€â”€ error_handlers.py [Error Handling]
â”‚    â”‚
â”‚    â”œâ”€â”€â”€ ğŸ¨ web/                  â† Presentation Layer
â”‚    â”‚    â”œâ”€â”€â”€ static/
â”‚    â”‚    â”‚    â”œâ”€â”€â”€ css/
â”‚    â”‚    â”‚    â”‚    â””â”€â”€â”€ styles.css  [Application Styles]
â”‚    â”‚    â”‚    â”œâ”€â”€â”€ js/
â”‚    â”‚    â”‚    â”‚    â”œâ”€â”€â”€ script.js   [Main App Logic]
â”‚    â”‚    â”‚    â”‚    â””â”€â”€â”€ criteria-management.js
â”‚    â”‚    â”‚    â””â”€â”€â”€ images/
â”‚    â”‚    â”‚         â”œâ”€â”€â”€ icon.png
â”‚    â”‚    â”‚         â””â”€â”€â”€ logo.png
â”‚    â”‚    â””â”€â”€â”€ templates/
â”‚    â”‚         â”œâ”€â”€â”€ index.html       [Main Application]
â”‚    â”‚         â””â”€â”€â”€ login.html       [Login Page]
â”‚    â”‚
â”‚    â”œâ”€â”€â”€ ğŸ”§ utils/                â† Utility Layer
â”‚    â”‚    â”œâ”€â”€â”€ pdf/
â”‚    â”‚    â”‚    â””â”€â”€â”€ processor.py     [PDF Text Extraction]
â”‚    â”‚    â”œâ”€â”€â”€ database/
â”‚    â”‚    â”‚    â””â”€â”€â”€ connection.py    [SQLAlchemy Models]
â”‚    â”‚    â””â”€â”€â”€ validators.py         [Input Validation]
â”‚    â”‚
â”‚    â”œâ”€â”€â”€ ğŸ’¾ data/                 â† Data Storage
â”‚    â”‚    â”œâ”€â”€â”€ raw/                  [Uploaded PDFs]
â”‚    â”‚    â”œâ”€â”€â”€ processed/            [Extracted Text]
â”‚    â”‚    â””â”€â”€â”€ database/
â”‚    â”‚         â””â”€â”€â”€ essays.db        [SQLite Database]
â”‚    â”‚
â”‚    â””â”€â”€â”€ ğŸ§ª tests/                â† Test Suite
â”‚         â”œâ”€â”€â”€ test_agent.py
â”‚         â”œâ”€â”€â”€ test_api.py
â”‚         â””â”€â”€â”€ fixtures/
â”‚
â”œâ”€â”€â”€ ğŸ› ï¸  scripts/                  â† Utility Scripts
â”‚    â”œâ”€â”€â”€ migrate_structure.py      [Structure Migration]
â”‚    â”œâ”€â”€â”€ setup_database.py         [DB Initialization]
â”‚    â”œâ”€â”€â”€ batch_evaluate.py         [Batch Processing]
â”‚    â””â”€â”€â”€ load_processed_essays.py  [Data Import]
â”‚
â”œâ”€â”€â”€ ï¿½ï¿½ docs/                      â† Documentation
â”‚    â”œâ”€â”€â”€ architecture/
â”‚    â”‚    â””â”€â”€â”€ system_design.md     [Architecture Overview]
â”‚    â”œâ”€â”€â”€ api/
â”‚    â”‚    â””â”€â”€â”€ endpoints.md         [API Reference]
â”‚    â””â”€â”€â”€ user_guide/
â”‚         â””â”€â”€â”€ getting_started.md   [Quick Start Guide]
â”‚
â”œâ”€â”€â”€ âš™ï¸  config/                   â† Configuration
â”‚    â”œâ”€â”€â”€ development.py            [Dev Settings]
â”‚    â””â”€â”€â”€ production.py             [Prod Settings]
â”‚
â”œâ”€â”€â”€ ğŸ“ Root Files
â”‚    â”œâ”€â”€â”€ .env.example              [Environment Template]
â”‚    â”œâ”€â”€â”€ .gitignore                [Git Ignore Rules]
â”‚    â”œâ”€â”€â”€ requirements.txt          [Production Dependencies]
â”‚    â”œâ”€â”€â”€ requirements-dev.txt      [Development Dependencies]
â”‚    â”œâ”€â”€â”€ setup.py                  [Package Configuration]
â”‚    â”œâ”€â”€â”€ pytest.ini                [Test Configuration]
â”‚    â”œâ”€â”€â”€ README_NEW.md             [Project README]
â”‚    â”œâ”€â”€â”€ PROJECT_STRUCTURE.md      [Structure Documentation]
â”‚    â”œâ”€â”€â”€ REORGANIZATION_SUMMARY.md [Migration Guide]
â”‚    â””â”€â”€â”€ LICENSE                   [License File]
â”‚
â””â”€â”€â”€ ğŸ—‚ï¸  Data Directories
     â”œâ”€â”€â”€ logs/                     [Application Logs]
     â”œâ”€â”€â”€ .venv/                    [Virtual Environment]
     â””â”€â”€â”€ __pycache__/              [Python Cache]


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          LAYER ARCHITECTURE                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ğŸ¨ Presentation Layer (Web Interface)                          â”‚
  â”‚  â”œâ”€ HTML Templates                                              â”‚
  â”‚  â”œâ”€ CSS Styles                                                  â”‚
  â”‚  â””â”€ JavaScript Logic                                            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ HTTP/JSON
                             â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ğŸŒ API Layer (Flask REST API)                                  â”‚
  â”‚  â”œâ”€ Authentication & Authorization                              â”‚
  â”‚  â”œâ”€ Request Validation                                          â”‚
  â”‚  â”œâ”€ Error Handling                                              â”‚
  â”‚  â””â”€ Response Serialization                                      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ğŸ§  Business Logic Layer (Core)                                 â”‚
  â”‚  â”œâ”€ LangGraph Agent (Evaluation Orchestration)                 â”‚
  â”‚  â”œâ”€ Evaluation Criteria (6 Parallel Nodes)                     â”‚
  â”‚  â”œâ”€ Prompt Templates                                            â”‚
  â”‚  â””â”€ Data Models (Pydantic)                                      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â–¼                         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ğŸ”§ Utility Layer    â”‚   â”‚  ğŸ’¾ Data Layer           â”‚
  â”‚  â”œâ”€ PDF Processing   â”‚   â”‚  â”œâ”€ SQLAlchemy ORM       â”‚
  â”‚  â”œâ”€ Text Cleaning    â”‚   â”‚  â”œâ”€ Database Operations  â”‚
  â”‚  â””â”€ Validation       â”‚   â”‚  â””â”€ File Storage         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          DATA FLOW DIAGRAM                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  User uploads PDF
       â”‚
       â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Web Upload   â”‚ â”€â”€â”€â”€â”€â”€â†’ Save to data/raw/
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ PDF Processorâ”‚ â”€â”€â”€â”€â”€â”€â†’ Extract text
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Text Cleaner â”‚ â”€â”€â”€â”€â”€â”€â†’ Clean & normalize
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ LangGraph Agent        â”‚
  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
  â”‚   â”‚ 6 Criteria     â”‚   â”‚ â”€â”€â†’ Parallel evaluation
  â”‚   â”‚ (Parallel)     â”‚   â”‚     using GPT-4
  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Score Calc   â”‚ â”€â”€â”€â”€â”€â”€â†’ Weighted average
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Database     â”‚ â”€â”€â”€â”€â”€â”€â†’ Save to essays.db
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ JSON Responseâ”‚ â”€â”€â”€â”€â”€â”€â†’ Return to client
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
  Display results in UI


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        IMPORT PATH STRUCTURE                                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  âœ… CORRECT (New Structure):
  
    from essay_evaluator.core.agent import EvaluadorEnsayos
    from essay_evaluator.core.models.evaluation import EvaluacionEnsayo
    from essay_evaluator.utils.pdf.processor import PDFProcessor
    from essay_evaluator.api.routes.auth import AuthManager
  
  âŒ INCORRECT (Old Structure):
  
    from agent import EvaluadorEnsayos          # Ambiguous!
    from models import EvaluacionEnsayo         # Which models?
    from pdf_processor import PDFProcessor      # Not clear!


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                     KEY DESIGN DECISIONS                                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  1. ğŸ¯ Separation of Concerns
     - Core logic independent of frameworks
     - Easy to test and modify

  2. ğŸ“¦ Modular Design
     - Each module has single responsibility
     - Loose coupling, high cohesion

  3. ğŸ”Œ Framework Agnostic Core
     - Core doesn't depend on Flask/SQLAlchemy
     - Can be reused in CLI, different APIs

  4. ğŸ§ª Testability First
     - Clear test organization
     - Easy to mock dependencies

  5. ğŸ“š Documentation Driven
     - Comprehensive docs for all levels
     - Architecture clearly explained

  6. ğŸš€ Scalability Ready
     - Easy to add features
     - Clear extension points
     - Microservices migration path


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         QUICK START COMMANDS                                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  # Migrate to new structure
  python scripts/migrate_structure.py
  
  # Run application
  python -m essay_evaluator.api.app
  
  # Run tests
  pytest essay_evaluator/tests/
  
  # Install package
  pip install -e .
  
  # Generate documentation
  cd docs && make html


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         BENEFITS AT A GLANCE                                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â­ Maintainability     - Easy to find and modify code
  â­ Testability         - Independent component testing
  â­ Scalability         - Add features without breaking code
  â­ Collaboration       - Clear structure for team work
  â­ Reusability         - Components work in different contexts
  â­ Professional        - Follows Python best practices
  â­ Documentation       - Comprehensive guides included
  â­ Type Safety         - Pydantic models with validation
  â­ Performance         - Parallel evaluation with LangGraph
  â­ Security            - JWT auth, input validation, bcrypt
